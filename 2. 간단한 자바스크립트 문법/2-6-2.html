<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shallow Copy Pitfall Example</title>
</head>
<body>
<h2>얕은 복사로 인한 버그 예제</h2>
<button onclick="runExample()">실행</button>
<script>
  function runExample() {

    // 쇼핑몰에서 카트 데이터를 복사해서 '주문'에 쓸 때 상황 가정
    const cart = {
      user: "Alex",
      items: [
        { id: 1, name: "노트북", price: 1000 },
        { id: 2, name: "마우스", price: 50 }
      ]
    };

    // "cart"를 '주문'용으로 얕은 복사
    const order = { ...cart };

    // 주문 화면에서 첫 번째 상품의 가격을 할인
    order.items[0].price = 900;

    // 원래 cart의 첫 상품 가격도 바뀜 (실제론 할인되면 안 되는데)
    console.log("[cart] 원본 카트:", cart.items);
    console.log("[order] 주문용 복사본:", order.items);

    // 그러면은 모두 다 깊은복사를 사용하면은 이런 일 생길일이 없지 않을까?
    // 메모리 낭비

  }
</script>
</body>
</html>
