<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fetch</title>
</head>
<body>
<h2>fetch()</h2>
<button id="loadBtn">데이터 가져오기</button>
<pre id="result"></pre>

<script>
    document.getElementById('loadBtn').addEventListener('click', () => {
        fetch('https://jsonplaceholder.typicode.com/todos/5')
            .then(response => {
                console.log('[1] fetch 결과 (response 객체):', response); // 첫 번째 로그
                return response.json(); // response 객체를 JSON으로 파싱
            })
            .then(data => {
                console.log('[2] response.json() 결과 (파싱된 데이터):', data); // 두 번째 로그
                document.getElementById('result').textContent = JSON.stringify(data, null, 2);
            })
            .catch(error => {
                console.log('[3] 에러 발생:', error); // 에러 로그
                document.getElementById('result').textContent = "에러 발생: " + error;
            });
    });
</script>
</body>
</html>
