<!-- 
 기존 fetch -> then
 이번에 fetch -> async/await

 가독성 높음
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>fetch() - async/await 방식</title>
</head>
<body>
<h2>fetch() - async/await</h2>
<button id="loadBtn">데이터 가져오기</button>
<pre id="result"></pre>

<script>
    document.getElementById('loadBtn').addEventListener('click', async () => {
        const resultEl = document.getElementById('result');
        try {

            const response = await fetch('https://jsonplaceholder.typicode.com/todos/5');
            if (!response.ok) {
                throw new Error('HTTP 오류! 상태 코드: ' + response.status);
            }
            const data = await response.json();
            resultEl.textContent = JSON.stringify(data, null, 2);
        } catch (error) {
            resultEl.textContent = "에러 발생: " + error;
        }
    });
</script>
</body>
</html>
